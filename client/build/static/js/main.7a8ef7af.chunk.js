(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{52:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(45),a=n.n(r),i=n(4),s=n(2),l=(n(52),n(0));var b=function(e){return Object(l.jsxs)("div",{id:"Home",className:"screen",children:[Object(l.jsx)("h1",{children:"Tic Tac Toe WebSockets"}),Object(l.jsx)("em",{children:"A Tic Tac Toe game built using WebSockets"}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)(i.b,{className:"btn big-btn new-match",to:"/new",children:"Start New Match"}),Object(l.jsx)(i.b,{className:"btn big-btn join-match",to:"/join",children:"Join a Match"})]})]})};n(58);var u=function(e){return Object(l.jsxs)("div",{id:"NewGame",children:[Object(l.jsx)("h1",{children:"NewGame"}),Object(l.jsx)("em",{children:"You can play online with a friend, or locally against THE computer (Beware! It is not going to be easy...)"}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)(i.b,{className:"btn big-btn vs-computer",to:"/local",children:"VS Computer (Local)"}),Object(l.jsx)(i.b,{className:"btn big-btn vs-player",to:"/online",children:"VS Player (Online)"}),Object(l.jsx)(i.b,{className:"btn big-btn back",to:"/",children:"Return Home"})]})]})},d=n(13);n(59);var j=function(e){var t=e.blocks,n=e.disabled,c=e.onMove;return Object(l.jsxs)("div",{id:"Board",className:n&&"disabled",children:[Object(l.jsx)("button",{className:"square remove-top-border remove-left-border",disabled:n,onClick:function(){return c(0)},children:t[0]}),Object(l.jsx)("button",{className:"square remove-top-border",disabled:n,onClick:function(){return c(1)},children:t[1]}),Object(l.jsx)("button",{className:"square remove-top-border remove-right-border",disabled:n,onClick:function(){return c(2)},children:t[2]}),Object(l.jsx)("button",{className:"square remove-left-border",disabled:n,onClick:function(){return c(3)},children:t[3]}),Object(l.jsx)("button",{className:"square",disabled:n,onClick:function(){return c(4)},children:t[4]}),Object(l.jsx)("button",{className:"square remove-right-border",disabled:n,onClick:function(){return c(5)},children:t[5]}),Object(l.jsx)("button",{className:"square remove-bottom-border remove-left-border",disabled:n,onClick:function(){return c(6)},children:t[6]}),Object(l.jsx)("button",{className:"square remove-bottom-border",disabled:n,onClick:function(){return c(7)},children:t[7]}),Object(l.jsx)("button",{className:"square remove-bottom-border remove-right-border",disabled:n,onClick:function(){return c(8)},children:t[8]})]})};function h(e){for(var t=Array(9),n=0;n<e.length;++n)t[n]=""===e[n]?n:e[n];return m(t,"O").index}function m(e,t){var n=e.filter((function(e){return"O"!==e&&"X"!==e}));if(O(e,"X"))return{score:-10};if(O(e,"O"))return{score:10};if(0===n.length)return{score:0};for(var c,o=[],r=0;r<n.length;r++){var a={};a.index=e[n[r]],e[n[r]]=t,a.score=m(e,"O"===t?"X":"O").score,e[n[r]]=a.index,o.push(a)}if("O"===t)for(var i=-1e4,s=0;s<o.length;s++)o[s].score>i&&(i=o[s].score,c=s);else for(var l=1e4,b=0;b<o.length;b++)o[b].score<l&&(l=o[b].score,c=b);return o[c]}function O(e,t){return e[0]===t&&e[1]===t&&e[2]===t||e[3]===t&&e[4]===t&&e[5]===t||e[6]===t&&e[7]===t&&e[8]===t||e[0]===t&&e[3]===t&&e[6]===t||e[1]===t&&e[4]===t&&e[7]===t||e[2]===t&&e[5]===t&&e[8]===t||e[0]===t&&e[4]===t&&e[8]===t||e[2]===t&&e[4]===t&&e[6]===t}n(60);function f(e,t){return e[0]===t&&e[1]===t&&e[2]===t||e[3]===t&&e[4]===t&&e[5]===t||e[6]===t&&e[7]===t&&e[8]===t||e[0]===t&&e[3]===t&&e[6]===t||e[1]===t&&e[4]===t&&e[7]===t||e[2]===t&&e[5]===t&&e[8]===t||e[0]===t&&e[4]===t&&e[8]===t||e[2]===t&&e[4]===t&&e[6]===t}var x=function(e){var t=Object(c.useState)(["","","","","","","","",""]),n=Object(d.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(null),s=Object(d.a)(a,2),b=s[0],u=s[1];function m(e){var t=function(e){if(f(e,"X"))return"Player X has won!";if(f(e,"O"))return"Player O has won!";for(var t=0;t<e.length;++t)if(""===e[t])return null;return"It is a DRAW."}(e);t&&u(t)}return Object(l.jsxs)("div",{id:"LocalMatch",className:"screen",children:[Object(l.jsx)("h1",{children:"VS Computer"}),Object(l.jsx)("em",{children:"You can play with THE computer here. Good luck!"}),Object(l.jsx)("div",{id:"game-end",children:b}),b&&Object(l.jsx)(i.b,{className:"btn home",to:"/",children:"Return Home"}),Object(l.jsx)(j,{blocks:o,disabled:b,onMove:function(e){if(""!==o[e])alert("Invalid move!");else{console.log("makeMove",e),o[e]="X",r(o.slice()),m(o);var t=h(o);console.log("AIMove",t),o[t]="O",r(o.slice()),m(o)}}})]})};n(61);var v=function(e){var t=Object(s.f)();return Object(c.useEffect)((function(){var e=function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",t="",n=0;n<5;++n)t+=e.charAt(Math.floor(Math.random()*e.length));return t}();t.push("/online/".concat(e))}),[]),Object(l.jsx)("div",{id:"OnlineMatchInit",className:"screen",children:Object(l.jsx)("h1",{children:"Initiating Online Match..."})})};n(62);var p=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),o=n[0],r=n[1],a=Object(s.f)();return Object(l.jsxs)("div",{id:"JoinMatch",className:"screen",children:[Object(l.jsx)("h1",{children:"Join a Match"}),Object(l.jsx)("em",{children:"Join an online match and play against your friend or watch them play!"}),Object(l.jsxs)("form",{onSubmit:function(e){if(5!==o.length)return!1;a.push("/online/".concat(o))},children:[Object(l.jsx)("input",{id:"matchID-input",type:"text",placeholder:"Enter MatchID (eg. 0-Dx_)",required:!0,minLength:5,maxLength:5,onChange:function(e){r(e.target.value)}}),Object(l.jsx)("button",{type:"submit",className:"btn big-btn join",children:"Join"})]}),Object(l.jsx)(i.b,{className:"btn big-btn back",to:"/",children:"Return Home"})]})},g=n(47);n(93);var k=function(){return Object(l.jsx)("svg",{id:"CopyLogo","aria-label":"Copy",viewBox:"0 0 24 24",children:Object(l.jsx)("path",{fill:"none",stroke:"rgb(239, 231, 224)","stroke-width":"2",d:"M9 15h8-8zm0-4h10H9zm0-4h4-4zm7-6v6h6M6 5H2v18h16v-4m4 0H6V1h11l5 5v13z"})})};n(94);var y,N=function(){return Object(l.jsx)("svg",{id:"CopyLinkLogo","aria-label":"Link",viewBox:"0 0 24 24",children:Object(l.jsx)("path",{fill:"none",stroke:"rgb(239, 231, 224)","stroke-width":"2",d:"M16.125 2.42a2.009 2.009 0 0 1 2.84-.001l2.616 2.617a2 2 0 0 1-.001 2.839l-3.705 3.705a2.009 2.009 0 0 1-2.84.001L12.42 8.964a2 2 0 0 1 .001-2.839l3.705-3.705zm-10 10a2.009 2.009 0 0 1 2.84-.001l2.616 2.617a2 2 0 0 1-.001 2.839L7.875 21.58a2.009 2.009 0 0 1-2.84.001L2.42 18.964a2 2 0 0 1 .001-2.839l3.705-3.705zM7 17 17 7"})})};n(95);var M=function(e){var t=e.match.params.matchID,n=Object(c.useState)(null),o=Object(d.a)(n,2),r=o[0],a=o[1],s=Object(c.useState)(null),b=Object(d.a)(s,2),u=b[0],h=b[1],m=Object(c.useState)(null),O=Object(d.a)(m,2),f=O[0],x=O[1],v=Object(c.useState)(!1),p=Object(d.a)(v,2),M=p[0],w=p[1];function C(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),console.log("Copied ".concat(e," to clipboard")),w(!0),setTimeout((function(){return w(!1)}),5e3)}return Object(c.useEffect)((function(){var e="ws://"+window.location.host;return(y=Object(g.io)(e,{query:{matchID:t}})).on("assignPlayer",(function(e){console.log("assignPlayer",e),a(e)})),y.on("updateGameState",(function(e){console.log("updateGameState",e),h(e),e.status&&x(e.status)})),y.on("playerDisconnected",(function(e){console.log("playerDisconnected",e),x(e)})),function(){y.disconnect()}}),[]),u?Object(l.jsxs)("div",{id:"OnlineMatch",className:"screen",children:[Object(l.jsxs)("h1",{children:["Online Match room code: ",t,Object(l.jsx)("span",{id:"copy",onClick:function(){return C(t)},children:Object(l.jsx)(k,{})}),Object(l.jsx)("span",{id:"copyLink",onClick:function(){return C(window.location)},children:Object(l.jsx)(N,{})}),Object(l.jsx)("span",{id:"copied",children:M&&"Copied!"})]}),!f&&Object(l.jsxs)("div",{id:"info",children:["It is ",u.turn===r?"your":"opponent's"," turn"]}),Object(l.jsx)("div",{id:"game-end",children:f}),f&&Object(l.jsx)(i.b,{className:"btn big-btn back",to:"/",children:"Return Home"}),Object(l.jsx)(j,{blocks:u.blocks,disabled:f,onMove:function(e){r?u.turn!==r?alert("Wait for your turn!"):""!==u.blocks[e]?alert("Invalid move!"):(console.log("makeMove",r,e),y.emit("makeMove",r,e)):alert("You are a spectator!")}})]}):Object(l.jsx)("h1",{children:"Loading gameState..."})};n(96);var w=function(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{exact:!0,path:"/new",component:u}),Object(l.jsx)(s.a,{exact:!0,path:"/local",component:x}),Object(l.jsx)(s.a,{exact:!0,path:"/join",component:p}),Object(l.jsx)(s.a,{exact:!0,path:"/online",component:v}),Object(l.jsx)(s.a,{path:"/online/:matchID",component:M}),Object(l.jsx)(s.a,{exact:!0,path:"/",component:b})]})})};a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.7a8ef7af.chunk.js.map